###########################################################################
# SliTaz
###########################################################################
- name: slitaz_cooking
  type: repository
  desc: SliTaz Cooking
  statsgroup: SliTaz
  family: slitaz
  ruleset: slitaz
  minpackages: 5200
  update_period: 1w
  pessimized: "fails to provide actual links to package sources (for instance, https://pkg.slitaz.org/?receipt=h8300-toolchain responds with `Package “h8300-toolchain” was not found`)"
  sources:
    - name: repo.json
      fetcher:
        class: FileFetcher
        url: https://mirror1.slitaz.org/packages/cooking/repo.json.gz
        compression: gz
      parser:
        class: SliTazJsonParser
  repolinks:
    - desc: SliTaz home
      url: https://www.slitaz.org/
    - desc: SliTaz packages
      url: https://pkg.slitaz.org/
  packagelinks:
    - type: PACKAGE_HOMEPAGE
      url: 'https://pkg.slitaz.org/?info={binname|quote}'
    - type: PACKAGE_RECIPE
      url: 'https://pkg.slitaz.org/?receipt={binname|quote}'
    - type: PACKAGE_BUILD_LOG
      url: 'https://cook.slitaz.org/cooker.cgi?pkg={binname|quote}'
  groups: [ all, production, slitaz ]

- name: slitaz_next
  type: repository
  desc: SliTaz Next
  statsgroup: SliTaz
  family: slitaz
  ruleset: [slitaz,slitaz_next]
  minpackages: 5200
  update_period: 1w
  pessimized: "fails to provide actual links to package sources (for instance, https://cook.slitaz.org/next/h8300-toolchain responds with 504)"
  sources:
    - name: repo.json
      fetcher:
        class: FileFetcher
        url: https://mirror1.slitaz.org/packages/next/repo.json.gz
        compression: gz
      parser:
        class: SliTazJsonParser
  repolinks:
    - desc: SliTaz home
      url: https://www.slitaz.org/
    - desc: SliTaz packages
      url: https://pkg.slitaz.org/
  packagelinks:
    - type: PACKAGE_HOMEPAGE
      url: 'https://cook.slitaz.org/next/{binname}'
    - type: PACKAGE_RECIPE
      url: 'https://cook.slitaz.org/next/{srcname}/receipt'
    - type: PACKAGE_RECIPE_RAW
      url: 'https://cook.slitaz.org/next/{srcname}/browse/receipt'
    - type: PACKAGE_BUILD_LOG
      url: 'https://cook.slitaz.org/next/{srcname}/log/'
  groups: [ all, production, slitaz ]

- name: slitaz_current
  type: repository
  desc: SliTaz Current
  statsgroup: SliTaz
  family: slitaz
  ruleset: [slitaz,slitaz_current]
  minpackages: 1500
  update_period: 1w
  pessimized: "fails to provide actual links to package sources (for instance, https://cook.slitaz.org/next/h8300-toolchain responds with 504)"
  sources:
    - name: repo.json
      fetcher:
        class: FileFetcher
        url: https://mirror1.slitaz.org/packages/current/repo.json.gz
        compression: gz
      parser:
        class: SliTazJsonParser
  repolinks:
    - desc: SliTaz home
      url: https://www.slitaz.org/
    - desc: SliTaz packages
      url: https://pkg.slitaz.org/
  packagelinks:
    - type: PACKAGE_HOMEPAGE
      url: 'https://pkg.slitaz.org/?info={binname|quote}&version=current'
    - type: PACKAGE_RECIPE
      url: 'https://pkg.slitaz.org/?receipt={binname|quote}&version=current'
    - type: PACKAGE_BUILD_LOG
      url: 'https://cook.slitaz.org/current/cooker.cgi?pkg={binname|quote}'
  groups: [ all, production, slitaz ]
