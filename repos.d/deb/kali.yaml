###########################################################################
# Kali Linux
#
# https://docs.kali.org/general-use/kali-linux-sources-list-repositories
###########################################################################

- name: kali_rolling
  type: repository
  desc: Kali Linux Rolling
  statsgroup: Debian+derivs
  family: debuntu
  ruleset: [debuntu, kali]
  color: '32638f'
  minpackages: 27000
  sources:
    {% for sub in ['contrib', 'main', 'non-free', 'non-free-firmware'] %}
    - name: {{sub}}
      fetcher:
        class: FileFetcher
        url: 'https://http.kali.org/kali/dists/kali-rolling/{{sub}}/source/Sources.gz'
        compression: gz
      parser:
        class: DebianSourcesParser
        # we only need sources for kalilinux unique packages, others are from debian
        allowed_vcs_urls: https://gitlab.com/kalilinux/packages/
      subrepo: {{sub}}
    {% endfor %}
  repolinks:
    - desc: Kali Linux home
      url: https://www.kali.org/
  groups: [ all, production, kali ]

- name: kali_bleeding_edge
  type: repository
  desc: Kali Linux Bleeding Edge
  statsgroup: Debian+derivs
  family: debuntu
  ruleset: [debuntu, kali]
  color: '32638f'
  minpackages: 50
  sources:
    {% for sub in ['contrib', 'main', 'non-free', 'non-free-firmware'] %}
    - name: {{sub}}
      fetcher:
        class: FileFetcher
        url: 'https://http.kali.org/kali/dists/kali-bleeding-edge/{{sub}}/source/Sources.gz'
        compression: gz
      parser:
        class: DebianSourcesParser
        # we only need sources for kalilinux unique packages, others are from debian
        allowed_vcs_urls: https://gitlab.com/kalilinux/packages/
      subrepo: {{sub}}
    {% endfor %}
  repolinks:
    - desc: Kali Linux home
      url: https://www.kali.org/
  groups: [ all, production, kali ]
