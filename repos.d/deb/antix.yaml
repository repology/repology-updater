###########################################################################
# AntiX
###########################################################################
{% macro antix(version, name, minpackages, valid_till=None) %}
- name: antix_{{version}}
  type: repository
  desc: antiX-{{version}}
  family: debuntu
  ruleset: [ debuntu, antix ]
  minpackages: {{minpackages}}
  {% if valid_till %}
  valid_till: {{valid_till}}
  {% endif %}
  sources:
    - name: [ dev, main, nonfree, nosystemd ]
      fetcher:
        class: FileFetcher
        url: 'https://mirror.math.princeton.edu/pub/mxlinux/antix/{{name}}/dists/{{name}}/{source}/source/Sources.gz'
        compression: gz
      parser:
        class: DebianSourcesParser
      subrepo: '{source}'
  repolinks:
    - desc: antiX Linux home
      url: https://antixlinux.com/
  groups: [ all, antix ]
{% endmacro %}

# https://endoflife.date/antix
{{ antix(19, 'buster',   minpackages=300, valid_till="2024-06-30") }}
{{ antix(21, 'bullseye', minpackages=300, valid_till="2026-06-30") }}
{{ antix(23, 'bookworm', minpackages=300, valid_till="2028-06-30") }}
